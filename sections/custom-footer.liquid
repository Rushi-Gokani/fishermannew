{% comment %}
  Custom Footer Section with Wave Video Animation
  Features: 4-column layout (About, Quick Links, Blogs, Newsletter) + Bottom Bar
{% endcomment %}

{% assign section_settings = section.settings %}

<footer class="custom-footer" data-section-id="{{ section.id }}">
  <div class="custom-footer__container">
    <div class="custom-footer__inner">
      <!-- Column 1: About the Shop -->
      <div class="custom-footer__column custom-footer__column--about">
        <h3 class="custom-footer__heading">{{ section_settings.about_heading }}</h3>
        <div class="custom-footer__text">
          {{ section_settings.about_text }}
        </div>
      </div>

      <!-- Column 2: Quick Links -->
      <div class="custom-footer__column custom-footer__column--links">
        <h3 class="custom-footer__heading">{{ section_settings.quick_links_heading }}</h3>
        <ul class="custom-footer__menu">
          {% for link in linklists[section_settings.quick_links_menu].links %}
            <li class="custom-footer__menu-item">
              <a href="{{ link.url }}" class="custom-footer__menu-link">{{ link.title }}</a>
            </li>
          {% endfor %}
        </ul>
      </div>

      <!-- Column 3: Blogs -->
      <div class="custom-footer__column custom-footer__column--blogs">
        <h3 class="custom-footer__heading">{{ section_settings.blogs_heading }}</h3>
        <ul class="custom-footer__menu">
          {% for link in linklists[section_settings.blogs_menu].links %}
            <li class="custom-footer__menu-item">
              <a href="{{ link.url }}" class="custom-footer__menu-link">{{ link.title }}</a>
            </li>
          {% endfor %}
        </ul>
      </div>

      <!-- Column 4: Newsletter -->
      <div class="custom-footer__column custom-footer__column--newsletter">
        <h3 class="custom-footer__heading">{{ section_settings.newsletter_heading }}</h3>
        <p class="custom-footer__newsletter-text">{{ section_settings.newsletter_text }}</p>
        
        {% form 'customer', class: 'custom-footer__newsletter-form' %}
          <input type="hidden" name="contact[tags]" value="newsletter">
          <div class="custom-footer__input-group">
            <input
              type="email"
              name="contact[email]"
              class="custom-footer__newsletter-input"
              value="{{ form.email }}"
              placeholder="{{ section_settings.email_placeholder }}"
              required
            >
          </div>
          <button type="submit" class="custom-footer__newsletter-button">
            {{ section_settings.button_text }}
          </button>
          {% if form.posted_successfully? %}
            <p class="custom-footer__message custom-footer__message--success">Thanks for subscribing!</p>
          {% endif %}
          {% if form.errors %}
            <p class="custom-footer__message custom-footer__message--error">{{ form.errors.translated_fields['email'] | capitalize }} {{ form.errors.messages['email'] }}</p>
          {% endif %}
        {% endform %}
      </div>
    </div>

    <!-- Bottom Bar -->
    <div class="custom-footer__bottom">
      <div class="custom-footer__bottom-left">
        <!-- Localization Selectors -->
        <div class="custom-footer__selectors">
          {%- if section.settings.enable_country_selector and localization.available_countries.size > 1 -%}
            <localization-form>
              {% form 'localization', id: 'FooterCountryForm', class: 'localization-form' %}
                <div class="no-js-hidden">
                  <div class="disclosure">
                    <button type="button" class="disclosure__button localization-form__select localization-selector link link--text caption-large" aria-expanded="false" aria-controls="FooterCountryList" aria-describedby="FooterCountryLabel">
                      {{ localization.country.name }} ({{ localization.country.currency.iso_code }} {{ localization.country.currency.symbol }})
                      <svg aria-hidden="true" focusable="false" role="presentation" class="icon icon-caret" viewBox="0 0 10 6">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M9.354.646a.5.5 0 00-.708 0L5 4.293 1.354.646a.5.5 0 00-.708.708l4 4a.5.5 0 00.708 0l4-4a.5.5 0 000-.708z" fill="currentColor">
                      </svg>
                    </button>
                    <ul id="FooterCountryList" role="list" class="disclosure__list list-unstyled" hidden>
                      {%- for country in localization.available_countries -%}
                        <li class="disclosure__item" tabindex="-1">
                          <a class="disclosure__link link link--text caption-large{% if country.iso_code == localization.country.iso_code %} disclosure__link--active{% endif %} focus-inset" href="#" {% if country.iso_code == localization.country.iso_code %} aria-current="true"{% endif %} data-value="{{ country.iso_code }}">
                            {{ country.name }} <span class="localization-form__currency">({{ country.currency.iso_code }} {{ country.currency.symbol }})</span>
                          </a>
                        </li>
                      {%- endfor -%}
                    </ul>
                  </div>
                  <input type="hidden" name="country_code" value="{{ localization.country.iso_code }}">
                </div>
              {% endform %}
            </localization-form>
          {%- endif -%}

          {%- if section.settings.enable_language_selector and localization.available_languages.size > 1 -%}
            <localization-form>
              {% form 'localization', id: 'FooterLanguageForm', class: 'localization-form' %}
                <div class="no-js-hidden">
                  <div class="disclosure">
                    <button type="button" class="disclosure__button localization-form__select localization-selector link link--text caption-large" aria-expanded="false" aria-controls="FooterLanguageList" aria-describedby="FooterLanguageLabel">
                      {{ localization.language.endonym_name | capitalize }}
                      <svg aria-hidden="true" focusable="false" role="presentation" class="icon icon-caret" viewBox="0 0 10 6">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M9.354.646a.5.5 0 00-.708 0L5 4.293 1.354.646a.5.5 0 00-.708.708l4 4a.5.5 0 00.708 0l4-4a.5.5 0 000-.708z" fill="currentColor">
                      </svg>
                    </button>
                    <ul id="FooterLanguageList" role="list" class="disclosure__list list-unstyled" hidden>
                      {%- for language in localization.available_languages -%}
                        <li class="disclosure__item" tabindex="-1">
                          <a class="disclosure__link link link--text caption-large{% if language.iso_code == localization.language.iso_code %} disclosure__link--active{% endif %} focus-inset" href="#" hreflang="{{ language.iso_code }}" lang="{{ language.iso_code }}"{% if language.iso_code == localization.language.iso_code %} aria-current="true"{% endif %} data-value="{{ language.iso_code }}">
                            {{ language.endonym_name | capitalize }}
                          </a>
                        </li>
                      {%- endfor -%}
                    </ul>
                  </div>
                  <input type="hidden" name="locale_code" value="{{ localization.language.iso_code }}">
                </div>
              {% endform %}
            </localization-form>
          {%- endif -%}
        </div>
        
        <div class="custom-footer__copyright">
          &copy; {{ 'now' | date: "%Y" }} {{ shop.name }}
          <br>
          Powered by Shopify
        </div>
      </div>

      <div class="custom-footer__bottom-right">
        <span class="custom-footer__follow-text">{{ section_settings.follow_heading }}</span>
        <div class="custom-footer__social-icons">
          {%- if section.settings.facebook_url != blank -%}
            <a href="{{ section.settings.facebook_url }}" class="custom-footer__social-icon" aria-label="Facebook">
              <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20"><path d="M18 2h-3a5 5 0 00-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 011-1h3z"></path></svg>
            </a>
          {%- endif -%}
          {%- if section.settings.instagram_url != blank -%}
            <a href="{{ section.settings.instagram_url }}" class="custom-footer__social-icon" aria-label="Instagram">
              <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1112.63 8 4 4 0 0116 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line></svg>
            </a>
          {%- endif -%}
          {%- if section.settings.youtube_url != blank -%}
            <a href="{{ section.settings.youtube_url }}" class="custom-footer__social-icon" aria-label="YouTube">
              <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20"><path d="M22.54 6.42a2.78 2.78 0 00-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 00-1.94 2A29 29 0 001 11.75a29 29 0 00.46 5.33A2.78 2.78 0 003.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 001.94-2 29 29 0 00.46-5.25 29 29 0 00-.46-5.33z"></path><polygon points="9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"></polygon></svg>
            </a>
          {%- endif -%}
        </div>
      </div>
    </div>
  </div>

  {%- if section_settings.enable_wave_animation -%}
    <div class="waveWrapper waveAnimation">
      <div class="waveWrapperInner bgTop">
        <div class="wave waveTop"></div>
      </div>
      <div class="waveWrapperInner bgMiddle">
        <div class="wave waveMiddle"></div>
      </div>
      <div class="waveWrapperInner bgBottom">
        <div class="wave waveBottom"></div>
      </div>
    </div>
  {%- endif -%}
</footer>

  .custom-footer {
    background-color: #f4f7f9; /* Light greyish blue background */
    color: #666666;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    padding-top: 60px;
    padding-bottom: 0;
    position: relative;
    font-size: 14px;
    line-height: 1.6;
  }

  .custom-footer__container {
    max-width: 1400px;
    margin: 0 auto;
    padding: 0 40px;
  }

  .custom-footer__inner {
    display: grid;
    grid-template-columns: 1.2fr 1fr 1fr 1.2fr;
    gap: 40px;
    margin-bottom: 60px;
  }

  /* Headings */
  .custom-footer__heading {
    color: #6cb2eb; /* Light Blue */
    font-size: 14px;
    font-weight: 700;
    text-transform: uppercase;
    margin-bottom: 20px;
    letter-spacing: 0.5px;
  }

  /* Text & Links */
  .custom-footer__text {
    color: #666;
    max-width: 300px;
  }

  .custom-footer__menu {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .custom-footer__menu-item {
    margin-bottom: 12px;
  }

  .custom-footer__menu-link {
    color: #666;
    text-decoration: none;
    transition: color 0.2s;
  }

  .custom-footer__menu-link:hover {
    color: #6cb2eb;
  }

  /* Newsletter */
  .custom-footer__newsletter-text {
    margin-bottom: 20px;
    color: #666;
  }

  .custom-footer__newsletter-form {
    display: flex;
    flex-direction: column;
    gap: 15px;
    max-width: 300px;
  }

  .custom-footer__newsletter-input {
    width: 100%;
    padding: 12px 15px;
    border: 1px solid #e1e1e1;
    background-color: #fff;
    color: #333;
    font-size: 14px;
    border-radius: 4px;
  }

  .custom-footer__newsletter-input:focus {
    outline: none;
    border-color: #6cb2eb;
  }

  .custom-footer__newsletter-button {
    background-color: #6cb2eb;
    color: white;
    border: none;
    padding: 12px 25px;
    font-weight: 600;
    cursor: pointer;
    border-radius: 4px;
    transition: background-color 0.2s;
    align-self: flex-start;
  }

  .custom-footer__newsletter-button:hover {
    background-color: #5a9bd8;
  }

  /* Bottom Bar */
  .custom-footer__bottom {
    display: flex;
    justify-content: space-between;
    align-items: flex-end;
    padding-bottom: 120px; /* Added padding for waves */
    margin-top: 40px;
    position: relative;
    z-index: 20;
  }

  .custom-footer__bottom-left {
    display: flex;
    flex-direction: column;
    gap: 20px;
  }

  .custom-footer__selectors {
    display: flex;
    gap: 15px;
  }

  .localization-form__select {
    background: #fff;
    border: 1px solid #e1e1e1;
    padding: 10px 15px;
    color: #666;
    font-size: 13px;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 8px;
    border-radius: 4px;
    transition: border-color 0.2s;
  }

  .localization-form__select:hover {
    border-color: #6cb2eb;
  }

  .custom-footer__copyright {
    font-size: 13px;
    color: #888;
  }

  .custom-footer__bottom-right {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    gap: 10px;
  }

  .custom-footer__follow-text {
    color: #888;
    font-size: 13px;
  }

  .custom-footer__social-icons {
    display: flex;
    gap: 10px;
  }

  .custom-footer__social-icon {
    color: #aaa;
    transition: color 0.2s;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    background: #eef1f3;
    border-radius: 50%;
  }

  .custom-footer__social-icon:hover {
    color: #6cb2eb;
    background: #fff;
  }

  /* Wave Animation */
  .waveWrapper {
    overflow: hidden;
    position: absolute;
    left: 0;
    right: 0;
    bottom: 0;
    height: 100px;
    margin: auto;
    z-index: 1;
    pointer-events: none;
  }
  .waveWrapperInner {
    position: absolute;
    width: 100%;
    overflow: hidden;
    height: 100%;
    bottom: -1px;
    /* Removed purple gradient background */
  }
  .bgTop {
    z-index: 15;
    opacity: 0.5;
  }
  .bgMiddle {
    z-index: 10;
    opacity: 0.75;
  }
  .bgBottom {
    z-index: 5;
  }
  .wave {
    position: absolute;
    left: 0;
    width: 200%;
    height: 100%;
    background-repeat: repeat no-repeat;
    background-position: 0 bottom;
    transform-origin: center bottom;
  }
  .waveTop {
    background-size: 50% 100px;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1200 80' preserveAspectRatio='none'%3E%3Cpath d='M0,40 C150,10 350,70 500,40 C650,10 850,70 1000,40 C1100,20 1150,40 1200,40 L1200,80 L0,80 Z' fill='%236cb2eb'/%3E%3C/svg%3E");
  }
  .waveAnimation .waveTop {
    animation: move-wave 3s;
    -webkit-animation: move-wave 3s;
    -webkit-animation-delay: 1s;
    animation-delay: 1s;
  }
  .waveMiddle {
    background-size: 50% 120px;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1200 80' preserveAspectRatio='none'%3E%3Cpath d='M0,50 C200,20 400,70 600,50 C800,30 1000,70 1200,50 L1200,80 L0,80 Z' fill='%236cb2eb'/%3E%3C/svg%3E");
  }
  .waveAnimation .waveMiddle {
    animation: move-wave 10s linear infinite;
  }
  .waveBottom {
    background-size: 50% 100px;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1200 80' preserveAspectRatio='none'%3E%3Cpath d='M0,45 C100,15 300,75 500,45 C700,15 900,75 1100,45 L1200,80 L0,80 Z' fill='%236cb2eb'/%3E%3C/svg%3E");
  }
  .waveAnimation .waveBottom {
    animation: move-wave 15s linear infinite;
  }
  @keyframes move-wave {
    0% {
      transform: translateX(0) translateZ(0) scaleY(1)
    }
    50% {
      transform: translateX(-25%) translateZ(0) scaleY(0.55)
    }
    100% {
      transform: translateX(-50%) translateZ(0) scaleY(1)
    }
  }

  /* Responsive */
  @media screen and (max-width: 990px) {
    .custom-footer__inner {
      grid-template-columns: 1fr 1fr;
    }
    
    .custom-footer__bottom {
      flex-direction: column;
      align-items: center;
      text-align: center;
      gap: 30px;
      padding-bottom: 100px;
    }

    .custom-footer__bottom-right {
      align-items: center;
    }
  }

  @media screen and (max-width: 600px) {
    .custom-footer__inner {
      grid-template-columns: 1fr;
      gap: 30px;
    }
    
    .custom-footer__container {
      padding: 0 20px;
    }
  }
{% endstylesheet %}

{% schema %}
{
  "name": "Custom Footer Redesign",
  "settings": [
    {
      "type": "header",
      "content": "About the Shop"
    },
    {
      "type": "text",
      "id": "about_heading",
      "label": "Heading",
      "default": "ABOUT THE SHOP"
    },
    {
      "type": "textarea",
      "id": "about_text",
      "label": "Text",
      "default": "Shipping all over India. For bulk purchase & business queries, message us on any of our messenger apps."
    },
    {
      "type": "header",
      "content": "Quick Links"
    },
    {
      "type": "text",
      "id": "quick_links_heading",
      "label": "Heading",
      "default": "QUICK LINKS"
    },
    {
      "type": "link_list",
      "id": "quick_links_menu",
      "label": "Menu"
    },
    {
      "type": "header",
      "content": "Blogs"
    },
    {
      "type": "text",
      "id": "blogs_heading",
      "label": "Heading",
      "default": "BLOGS"
    },
    {
      "type": "link_list",
      "id": "blogs_menu",
      "label": "Menu"
    },
    {
      "type": "header",
      "content": "Newsletter"
    },
    {
      "type": "text",
      "id": "newsletter_heading",
      "label": "Heading",
      "default": "NEWSLETTER"
    },
    {
      "type": "textarea",
      "id": "newsletter_text",
      "label": "Text",
      "default": "Stay updated on discounts and offers"
    },
    {
      "type": "text",
      "id": "email_placeholder",
      "label": "Placeholder",
      "default": "Your email"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Button Text",
      "default": "Subscribe"
    },
    {
      "type": "header",
      "content": "Bottom Bar"
    },
    {
      "type": "checkbox",
      "id": "enable_country_selector",
      "label": "Enable Country Selector",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "enable_language_selector",
      "label": "Enable Language Selector",
      "default": true
    },
    {
      "type": "text",
      "id": "follow_heading",
      "label": "Follow Us Text",
      "default": "Follow Us"
    },
    {
      "type": "url",
      "id": "facebook_url",
      "label": "Facebook URL"
    },
    {
      "type": "url",
      "id": "instagram_url",
      "label": "Instagram URL"
    },
    {
      "type": "url",
      "id": "youtube_url",
      "label": "YouTube URL"
    },
    {
      "type": "header",
      "content": "Wave Animation"
    },
    {
      "type": "checkbox",
      "id": "enable_wave_animation",
      "label": "Enable Wave Animation",
      "default": true
    }
  ],
  "presets": [
    {
      "name": "Custom Footer Redesign"
    }
  ]
}
{% endschema %}
